-- MySQL Script generated by MySQL Workbench
-- Tue Nov  3 10:09:01 2020
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `mydb` DEFAULT CHARACTER SET utf8 ;
USE `mydb` ;

-- -----------------------------------------------------
-- Table `mydb`.`ENTREGA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`ENTREGA` (
  `ENT_CODIGO` INT NOT NULL,
  `ENT_HORARIO` DATE NOT NULL,
  `ENT_DATA` DATE NOT NULL,
  `ENT_STATUS` VARCHAR(20) NOT NULL,
  PRIMARY KEY (`ENT_CODIGO`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`AVALIACAO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`AVALIACAO` (
  `AVA_CODIGO` INT NOT NULL,
  `AVA_DESCRICAO` VARCHAR(45) NOT NULL,
  `AVA_NOTA_ATENDIMENTO` VARCHAR(45) NOT NULL,
  `AVA_NOTA_PRODUTO` VARCHAR(45) NOT NULL,
  `AVA_NOTA_GERAL` VARCHAR(45) NOT NULL,
  `ENT_CODIGO` INT NOT NULL,
  PRIMARY KEY (`AVA_CODIGO`, `ENT_CODIGO`),
  INDEX `fk_AVALIACAO_ENTREGA_idx` (`ENT_CODIGO` ASC),
  CONSTRAINT `fk_AVALIACAO_ENTREGA`
    FOREIGN KEY (`ENT_CODIGO`)
    REFERENCES `mydb`.`ENTREGA` (`ENT_CODIGO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`CESTA_COMPRA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`CESTA_COMPRA` (
  `CES_CODIGO` INT NOT NULL,
  `CES_QUANTIDADE` VARCHAR(45) NOT NULL,
  `CES_VL_UNIDADE` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`CES_CODIGO`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`PEDIDO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`PEDIDO` (
  `PED_CODIGO` INT NOT NULL,
  `PED_DATA` DATE NOT NULL,
  `PED_HORA` TIME NOT NULL,
  `PED_VALOR` DECIMAL(20) NOT NULL,
  `PED_DESCRICAO` VARCHAR(100) NOT NULL,
  `PED_VALOR_TOTAL` DECIMAL(20) NOT NULL,
  `CES_CODIGO` INT NOT NULL,
  PRIMARY KEY (`PED_CODIGO`, `CES_CODIGO`),
  INDEX `fk_PEDIDO_CESTA_COMPRA1_idx` (`CES_CODIGO` ASC),
  CONSTRAINT `fk_PEDIDO_CESTA_COMPRA1`
    FOREIGN KEY (`CES_CODIGO`)
    REFERENCES `mydb`.`CESTA_COMPRA` (`CES_CODIGO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`CATEGORIA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`CATEGORIA` (
  `CAT_CODIGO` INT NOT NULL,
  `CAT_DESCRICAO` VARCHAR(100) NOT NULL,
  PRIMARY KEY (`CAT_CODIGO`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`USUARIO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`USUARIO` (
  `US_CNPJ_CPF` VARCHAR(20) NOT NULL,
  `US_EMAIL` VARCHAR(50) NOT NULL,
  `US_SENHA` VARCHAR(8) NOT NULL,
  PRIMARY KEY (`US_CNPJ_CPF`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`FORNECEDOR`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`FORNECEDOR` (
  `US_CNPJ_CPF` VARCHAR(20) NOT NULL,
  `FORN_RZ_SOCIAL` VARCHAR(50) NOT NULL,
  `FORN_NM_FANTASIA` VARCHAR(50) NOT NULL,
  PRIMARY KEY (`US_CNPJ_CPF`),
  INDEX `fk_FORNECEDOR_USUARIO1_idx` (`US_CNPJ_CPF` ASC),
  CONSTRAINT `fk_FORNECEDOR_USUARIO1`
    FOREIGN KEY (`US_CNPJ_CPF`)
    REFERENCES `mydb`.`USUARIO` (`US_CNPJ_CPF`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`PRODUTO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`PRODUTO` (
  `PRO_CODIGO` INT NOT NULL,
  `PRO_NOME` VARCHAR(50) NOT NULL,
  `PRO_DESCRICAO` VARCHAR(200) NOT NULL,
  `PRO_UNIDADE` VARCHAR(50) NOT NULL,
  `PRO_IMAGEM` LONGBLOB NOT NULL,
  `PRO_VALOR` DECIMAL(10,2) NOT NULL,
  `CAT_CODIGO` INT NOT NULL,
  `US_CNPJ_CPF` VARCHAR(20) NOT NULL,
  PRIMARY KEY (`PRO_CODIGO`, `CAT_CODIGO`, `US_CNPJ_CPF`),
  INDEX `fk_PRODUTO_CATEGORIA1_idx` (`CAT_CODIGO` ASC),
  INDEX `fk_PRODUTO_FORNECEDOR1_idx` (`US_CNPJ_CPF` ASC),
  CONSTRAINT `fk_PRODUTO_CATEGORIA1`
    FOREIGN KEY (`CAT_CODIGO`)
    REFERENCES `mydb`.`CATEGORIA` (`CAT_CODIGO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_PRODUTO_FORNECEDOR1`
    FOREIGN KEY (`US_CNPJ_CPF`)
    REFERENCES `mydb`.`FORNECEDOR` (`US_CNPJ_CPF`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`ANUNCIO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`ANUNCIO` (
  `ANU_CODIGO` INT NOT NULL,
  `ANU_DESCRICAO` VARCHAR(200) NOT NULL,
  `ANU_CLASSIFICACAO` VARCHAR(45) NOT NULL,
  `ANU_INF_NUTRI` VARCHAR(50) NOT NULL,
  `ANU_SAFRA` VARCHAR(50) NOT NULL,
  `US_CNPJ_CPF` VARCHAR(20) NOT NULL,
  PRIMARY KEY (`ANU_CODIGO`, `US_CNPJ_CPF`),
  INDEX `fk_ANUNCIO_FORNECEDOR1_idx` (`US_CNPJ_CPF` ASC),
  CONSTRAINT `fk_ANUNCIO_FORNECEDOR1`
    FOREIGN KEY (`US_CNPJ_CPF`)
    REFERENCES `mydb`.`FORNECEDOR` (`US_CNPJ_CPF`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`CLIENTE`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`CLIENTE` (
  `US_CNPJ_CPF` VARCHAR(20) NOT NULL,
  `CLI_NOME` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`US_CNPJ_CPF`),
  INDEX `fk_CLIENTE_USUARIO1_idx` (`US_CNPJ_CPF` ASC),
  CONSTRAINT `fk_CLIENTE_USUARIO1`
    FOREIGN KEY (`US_CNPJ_CPF`)
    REFERENCES `mydb`.`USUARIO` (`US_CNPJ_CPF`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`CONTATO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`CONTATO` (
  `CONT_CODIGO` INT NOT NULL,
  `CONT_TELEFONE` VARCHAR(20) NOT NULL,
  `CONT_REDE_SOCIAL` VARCHAR(45) NULL,
  `US_CNPJ_CPF` VARCHAR(20) NOT NULL,
  PRIMARY KEY (`CONT_CODIGO`, `US_CNPJ_CPF`),
  INDEX `fk_CONTATO_USUARIO1_idx` (`US_CNPJ_CPF` ASC),
  CONSTRAINT `fk_CONTATO_USUARIO1`
    FOREIGN KEY (`US_CNPJ_CPF`)
    REFERENCES `mydb`.`USUARIO` (`US_CNPJ_CPF`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`UNIDADE_FEDERATIVA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`UNIDADE_FEDERATIVA` (
  `UF_CODIGO` VARCHAR(2) NOT NULL,
  `UF_NOME` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`UF_CODIGO`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`CIDADE`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`CIDADE` (
  `CID_CODIGO` INT NOT NULL,
  `CID_NOME` VARCHAR(45) NOT NULL,
  `UF_CODIGO` VARCHAR(2) NOT NULL,
  PRIMARY KEY (`CID_CODIGO`, `UF_CODIGO`),
  INDEX `fk_CIDADE_UNIDADE_FEDERATIVA1_idx` (`UF_CODIGO` ASC),
  CONSTRAINT `fk_CIDADE_UNIDADE_FEDERATIVA1`
    FOREIGN KEY (`UF_CODIGO`)
    REFERENCES `mydb`.`UNIDADE_FEDERATIVA` (`UF_CODIGO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`ENDERECO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`ENDERECO` (
  `END_CODIGO` INT NOT NULL,
  `END_LOGRADOURO` VARCHAR(50) NOT NULL,
  `END_NUMERO` INT NOT NULL,
  `END_COMPLEMENTO` VARCHAR(50) NULL,
  `END_BAIRRO` VARCHAR(50) NOT NULL,
  `END_CEP` VARCHAR(15) NOT NULL,
  `US_CNPJ_CPF` VARCHAR(20) NOT NULL,
  `CID_CODIGO` INT NOT NULL,
  `UF_CODIGO` VARCHAR(2) NOT NULL,
  PRIMARY KEY (`END_CODIGO`, `US_CNPJ_CPF`, `CID_CODIGO`, `UF_CODIGO`),
  INDEX `fk_ENDERECO_CLIENTE1_idx` (`US_CNPJ_CPF` ASC),
  INDEX `fk_ENDERECO_CIDADE1_idx` (`CID_CODIGO` ASC, `UF_CODIGO` ASC),
  CONSTRAINT `fk_ENDERECO_CLIENTE1`
    FOREIGN KEY (`US_CNPJ_CPF`)
    REFERENCES `mydb`.`CLIENTE` (`US_CNPJ_CPF`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ENDERECO_CIDADE1`
    FOREIGN KEY (`CID_CODIGO` , `UF_CODIGO`)
    REFERENCES `mydb`.`CIDADE` (`CID_CODIGO` , `UF_CODIGO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`FORMA_PAGAMENTO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`FORMA_PAGAMENTO` (
  `FPG_CODIGO` INT NOT NULL,
  `FPG_DESCRICAO` VARCHAR(100) NOT NULL,
  PRIMARY KEY (`FPG_CODIGO`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`PEDIDO_ENTREGA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`PEDIDO_ENTREGA` (
  `PED_CODIGO` INT NOT NULL,
  `ENT_CODIGO` INT NOT NULL,
  PRIMARY KEY (`PED_CODIGO`, `ENT_CODIGO`),
  INDEX `fk_PEDIDO_has_ENTREGA_ENTREGA1_idx` (`ENT_CODIGO` ASC),
  INDEX `fk_PEDIDO_has_ENTREGA_PEDIDO1_idx` (`PED_CODIGO` ASC),
  CONSTRAINT `fk_PEDIDO_has_ENTREGA_PEDIDO1`
    FOREIGN KEY (`PED_CODIGO`)
    REFERENCES `mydb`.`PEDIDO` (`PED_CODIGO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_PEDIDO_has_ENTREGA_ENTREGA1`
    FOREIGN KEY (`ENT_CODIGO`)
    REFERENCES `mydb`.`ENTREGA` (`ENT_CODIGO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`FPAGAMENTO_PEDIDO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`FPAGAMENTO_PEDIDO` (
  `FPG_CODIGO` INT NOT NULL,
  `PED_CODIGO` INT NOT NULL,
  PRIMARY KEY (`FPG_CODIGO`, `PED_CODIGO`),
  INDEX `fk_FORMA_PAGAMENTO_has_PEDIDO_PEDIDO1_idx` (`PED_CODIGO` ASC),
  INDEX `fk_FORMA_PAGAMENTO_has_PEDIDO_FORMA_PAGAMENTO1_idx` (`FPG_CODIGO` ASC),
  CONSTRAINT `fk_FORMA_PAGAMENTO_has_PEDIDO_FORMA_PAGAMENTO1`
    FOREIGN KEY (`FPG_CODIGO`)
    REFERENCES `mydb`.`FORMA_PAGAMENTO` (`FPG_CODIGO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_FORMA_PAGAMENTO_has_PEDIDO_PEDIDO1`
    FOREIGN KEY (`PED_CODIGO`)
    REFERENCES `mydb`.`PEDIDO` (`PED_CODIGO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`ANUNCIO_PRODUTO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`ANUNCIO_PRODUTO` (
  `ANU_CODIGO` INT NOT NULL,
  `PRO_CODIGO` INT NOT NULL,
  PRIMARY KEY (`ANU_CODIGO`, `PRO_CODIGO`),
  INDEX `fk_ANUNCIO_has_PRODUTO_PRODUTO1_idx` (`PRO_CODIGO` ASC),
  INDEX `fk_ANUNCIO_has_PRODUTO_ANUNCIO1_idx` (`ANU_CODIGO` ASC),
  CONSTRAINT `fk_ANUNCIO_has_PRODUTO_ANUNCIO1`
    FOREIGN KEY (`ANU_CODIGO`)
    REFERENCES `mydb`.`ANUNCIO` (`ANU_CODIGO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ANUNCIO_has_PRODUTO_PRODUTO1`
    FOREIGN KEY (`PRO_CODIGO`)
    REFERENCES `mydb`.`PRODUTO` (`PRO_CODIGO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`ANUNCIO_CESTA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`ANUNCIO_CESTA` (
  `ANU_CODIGO` INT NOT NULL,
  `CES_CODIGO` INT NOT NULL,
  PRIMARY KEY (`ANU_CODIGO`, `CES_CODIGO`),
  INDEX `fk_ANUNCIO_has_CESTA_COMPRA_CESTA_COMPRA1_idx` (`CES_CODIGO` ASC),
  INDEX `fk_ANUNCIO_has_CESTA_COMPRA_ANUNCIO1_idx` (`ANU_CODIGO` ASC),
  CONSTRAINT `fk_ANUNCIO_has_CESTA_COMPRA_ANUNCIO1`
    FOREIGN KEY (`ANU_CODIGO`)
    REFERENCES `mydb`.`ANUNCIO` (`ANU_CODIGO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ANUNCIO_has_CESTA_COMPRA_CESTA_COMPRA1`
    FOREIGN KEY (`CES_CODIGO`)
    REFERENCES `mydb`.`CESTA_COMPRA` (`CES_CODIGO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`FORNECEDOR_PEDIDO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`FORNECEDOR_PEDIDO` (
  `US_CNPJ_CPF` VARCHAR(20) NOT NULL,
  `PED_CODIGO` INT NOT NULL,
  PRIMARY KEY (`US_CNPJ_CPF`, `PED_CODIGO`),
  INDEX `fk_FORNECEDOR_has_PEDIDO_PEDIDO1_idx` (`PED_CODIGO` ASC),
  INDEX `fk_FORNECEDOR_has_PEDIDO_FORNECEDOR1_idx` (`US_CNPJ_CPF` ASC),
  CONSTRAINT `fk_FORNECEDOR_has_PEDIDO_FORNECEDOR1`
    FOREIGN KEY (`US_CNPJ_CPF`)
    REFERENCES `mydb`.`FORNECEDOR` (`US_CNPJ_CPF`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_FORNECEDOR_has_PEDIDO_PEDIDO1`
    FOREIGN KEY (`PED_CODIGO`)
    REFERENCES `mydb`.`PEDIDO` (`PED_CODIGO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`PEDIDO_CLIENTE`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`PEDIDO_CLIENTE` (
  `PED_CODIGO` INT NOT NULL,
  `US_CNPJ_CPF` VARCHAR(20) NOT NULL,
  PRIMARY KEY (`PED_CODIGO`, `US_CNPJ_CPF`),
  INDEX `fk_PEDIDO_has_CLIENTE_CLIENTE1_idx` (`US_CNPJ_CPF` ASC),
  INDEX `fk_PEDIDO_has_CLIENTE_PEDIDO1_idx` (`PED_CODIGO` ASC),
  CONSTRAINT `fk_PEDIDO_has_CLIENTE_PEDIDO1`
    FOREIGN KEY (`PED_CODIGO`)
    REFERENCES `mydb`.`PEDIDO` (`PED_CODIGO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_PEDIDO_has_CLIENTE_CLIENTE1`
    FOREIGN KEY (`US_CNPJ_CPF`)
    REFERENCES `mydb`.`CLIENTE` (`US_CNPJ_CPF`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
